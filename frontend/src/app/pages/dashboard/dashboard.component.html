<h1 class="text-3xl font-bold text-gray-800 mb-1">
  ASN Dashboard
</h1>
<p class="text-gray-500 mb-6 text-sm">
  Track and manage all Advanced Shipping Notices and their SKUs.
</p>


<!-- Stat Cards -->
<div class="grid grid-cols-5 gap-4 mb-8">

  <div class="bg-white p-4 rounded-xl shadow-sm border">
    <div class="text-xs text-gray-500">TOTAL ASNS</div>
    <div class="text-2xl font-bold mt-2">4</div>
  </div>

  <div class="bg-white p-4 rounded-xl shadow-sm border">
    <div class="text-xs text-gray-500">TOTAL SKUS</div>
    <div class="text-2xl font-bold mt-2">10</div>
  </div>

  <div class="bg-white p-4 rounded-xl shadow-sm border">
    <div class="text-xs text-gray-500">VERIFIED</div>
    <div class="text-2xl font-bold mt-2 text-green-600">5</div>
  </div>

  <div class="bg-white p-4 rounded-xl shadow-sm border">
    <div class="text-xs text-gray-500">PENDING</div>
    <div class="text-2xl font-bold mt-2 text-yellow-500">3</div>
  </div>

  <div class="bg-white p-4 rounded-xl shadow-sm border">
    <div class="text-xs text-gray-500">DAMAGED</div>
    <div class="text-2xl font-bold mt-2 text-red-600">2</div>
  </div>

</div>
<div class="dashboard-container">

  <h2>ASN Dashboard</h2>

  <!-- Search -->
  <div class="search-bar">
    <input
      type="text"
      [(ngModel)]="searchShipment"
      placeholder="Enter Shipment Number"
      class="border border-gray-300 px-3 py-2 rounded-lg w-64 
         focus:outline-none 
         focus:ring-2 focus:ring-blue-500 
         focus:border-blue-500 
         transition"
    />
    <button (click)="search()"
    class="bg-blue-600 text-white px-4 py-2 rounded-lg 
         hover:bg-blue-700 transition"
    >Search</button>
  </div>

 <!-- ASN List -->
<div class="mt-6 bg-white rounded-2xl shadow-md border overflow-hidden">

 
<div 
  class="border-b last:border-none"
  *ngFor="let asn of asns"
>

    <!-- ASN Header -->
    <div 
      class="flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50"
      (click)="toggleExpand(asn.shipmentNumber)"
    >
      <div>
        <div class="font-semibold text-blue-700">
          {{ asn.shipmentNumber }}
        </div>
        <div class="text-sm text-gray-500">
          {{ asn.supplier || 'No Supplier' }}
        </div>
      </div>

      <div class="text-gray-400">
        â–¼
      </div>
    </div>

    <!-- SKU Dropdown -->
    <div 
      *ngIf="expandedShipment === asn.shipmentNumber"
      class="border-t p-4 bg-gray-50"
    >

      <table class="w-full text-sm border-collapse">

        <thead class="text-left text-xs uppercase tracking-wider 
              text-gray-500 bg-gray-50 border-b">
  <tr>
    <th class="py-2">SKU ID</th>
    <th>SKU Name</th>
    <th>MRP</th>
    <th>Batch</th>
    <th>Expiry</th>
    <th>Quantity</th>
    <th>Status</th>
  </tr>
</thead>


        <tbody>
          <tr 
  *ngFor="let sku of asn.skus"
  class="border-b last:border-none hover:bg-gray-50"
>
  <td class="py-2 text-blue-600 font-medium">{{ sku.skuId }}</td>
  <td>{{ sku.skuName || '-' }}</td>
  <td>{{ sku.mrp || '-' }}</td>
  <td>{{ sku.batchNumber || '-' }}</td>
  <td>{{ sku.expiry || '-' }}</td>
  <td>{{ sku.expectedQuantity ?? '-' }}</td>
  <td>
   <span
  class="inline-flex items-center justify-center
         min-w-[130px] px-6 py-2
         rounded-full text-xs font-bold uppercase tracking-widest
         transition-all duration-300
         border"
  [ngClass]="{
    'bg-green-500/10 text-green-500 border-green-400 shadow-[0_0_12px_rgba(34,197,94,0.7)]':
      sku.status === 'GOOD',

    'bg-yellow-500/10 text-yellow-400 border-yellow-400 shadow-[0_0_12px_rgba(234,179,8,0.7)]':
      sku.status === 'PENDING',

    'bg-red-500/10 text-red-500 border-red-400 shadow-[0_0_12px_rgba(239,68,68,0.7)]':
      sku.status === 'BAD'
  }"
>
  {{ sku.status }}
</span>


  </td>
</tr>

        </tbody>

      </table>

    </div>

  </div>

</div>


</div>